# Архітектура

- UV пакетний менеджер (uv)
- python 3.14 та самі сучасні підходи у пітон розробці
- можливість локального запуску для тестування вручну
- unit тести
- публікація в GKE
- Github Actions для CI/CD
- бібліотека для роботи з telegram (Telethon)
- весь проект повинен бути організований в uv monorepo. В головному пакеті Telethon, який записує задачі в redis list, а інші пакети виконують ці задачі (наприклад, експорт тексту з PDF файлів)
- для локального запуску використовувати docker compose
- для ін'єкції змінних використовувати env утиліту
- скрипт для запуску повинен бути з poe
- адаптації тексту в окремому воркері з meta-llama/Llama-3.1-8B-Instruct
- бот повинен приймати запити тільки від користувача 292188676 (Віталій) і користувача 8418087262 (Олена)
- у кожного пакети повинна бути k8s директорія для публікації в k8s
- воркери повинні запускатись з KEDA тільки коли в redis є повідомлення для них
- воркери не повинні мати Telethon, вони публікують повідомлення які необхідно надіслати користувачу в redis list, а ubot-bot їх читає і надсилає користувачу
- спільний код по роботі з чергою в Redis чи публікації в чергу повинен бути в окремому пакеті, який буде використовуватись всіма воркерами і ботом

## Пакет ubot-extract-from-pdf

- використовується PyMuPDF для експорту тексту з PDF файлів
- node selector: gpu = l4
- node affinity: gpu = l4

## Пакет ubot-adapt

- використовується meta-llama/Llama-3.1-8B-Instruct для адаптації тексту
- node selector: preem = true
